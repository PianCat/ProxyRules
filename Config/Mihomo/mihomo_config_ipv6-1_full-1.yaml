mixed-port: 56365
allow-lan: true
ipv6: true
mode: rule
unified-delay: true
tcp-concurrent: true
find-process-mode: strict
global-client-fingerprint: chrome
log-level: info
geodata-loader: standard
external-controller: :9999
external-ui: ui
external-ui-url: https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip
disable-keep-alive: true
profile:
  store-selected: true

dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  default-nameserver:
    - 119.29.29.29
    - '2402:4e00::'
    - 223.5.5.5
    - 2400:3200::1
    - 1.1.1.1
    - 2606:4700:4700::1111
    - 8.8.8.8
    - 2001:4860:4860::8888
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
  fake-ip-filter:
    - '*.lan'
    - '*.localdomain'
    - '*.example'
    - '*.invalid'
    - '*.localhost'
    - '*.test'
    - '*.local'
    - '*.home.arpa'
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - '*.time.edu.cn'
    - '*.ntp.org.cn'
    - +.pool.ntp.org
    - time1.cloud.tencent.com
    - music.163.com
    - '*.music.163.com'
    - '*.126.net'
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - '*.kuwo.cn'
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - '*.y.qq.com'
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - '*.xiami.com'
    - '*.music.migu.cn'
    - music.migu.cn
    - '*.msftconnecttest.com'
    - '*.msftncsi.com'
    - msftconnecttest.com
    - msftncsi.com
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
    - +.srv.nintendo.net
    - +.stun.playstation.net
    - xbox.*.microsoft.com
    - +.battlenet.com.cn
    - +.wotgame.cn
    - +.wggames.cn
    - +.wowsgame.cn
    - +.wargaming.net
    - proxy.golang.org
    - stun.*.*
    - stun.*.*.*
    - stun.*.*.*.*
    - heartbeat.belkin.com
    - '*.linksys.com'
    - '*.linksyssmartwifi.com'
    - '*.router.asus.com'
    - mesu.apple.com
    - swscan.apple.com
    - swquery.apple.com
    - swdownload.apple.com
    - swcdn.apple.com
    - swdist.apple.com
    - lens.l.google.com
    - stun.l.google.com
    - +.nflxvideo.net
    - '*.square-enix.com'
    - '*.finalfantasyxiv.com'
    - '*.ffxiv.com'
    - '*.direct'
    - cable.auth.com
    - network-test.debian.org
    - detectportal.firefox.com
    - resolver1.opendns.com
    - '*.xboxlive.com'
    - global.turn.twilio.com
    - global.stun.twilio.com
    - app.yinxiang.com
    - injections.adguard.org
    - local.adguard.org
    - localhost.*.qq.com
    - localhost.*.weixin.qq.com
    - '*.logon.battle.net'
    - '*.blzstatic.cn'
    - '*.mcdn.bilivideo.cn'
    - '*.cmpassport.com'
    - id6.me
    - open.e.189.cn
    - opencloud.wostore.cn
    - id.mail.wo.cn
    - mdn.open.wo.cn
    - hmrz.wo.cn
    - nishub1.10010.com
    - enrichgw.10010.com
    - '*.wosms.cn'
    - '*.jegotrip.com.cn'
    - '*.icitymobile.mobi'
    - '*.pingan.com.cn'
    - '*.cmbchina.com'
    - '*.10099.com.cn'
    - '*.microdone.cn'

sniffer:
  sniff:
    HTTP:
      ports:
        - 80
        - 8080-8880
      override-destination: true
    TLS:
      ports:
        - 443
        - 8443
    QUIC:
      ports:
        - 443
        - 8443
  skip-domain:
    - Mijia Cloud
    - dlg.io.mi.com
    - +.push.apple.com

geodata-mode: true
geo-auto-update: true
geo-update-interval: 24
geox-url:
  geoip: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat
  geosite: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat
  mmdb: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb

proxy-groups:
  - name: é€‰æ‹©ä»£ç†
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png
    type: select
    proxies:
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹
      - æ‰‹åŠ¨é€‰æ‹©
      - DIRECT
  - name: æ‰‹åŠ¨é€‰æ‹©
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Round_Robin_1.png
    include-all: true
    type: select

  - name: AI
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AI.png
    type: select
    proxies: &a1
      - é€‰æ‹©ä»£ç†
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹
      - æ‰‹åŠ¨é€‰æ‹©
      - ç›´æ¥è¿æ¥
  - name: Telegram
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
    type: select
    proxies: *a1

  - name: YouTube
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    type: select
    proxies: *a1

  - name: Netflix
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
    type: select
    proxies: *a1

  - name: Spotify
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
    type: select
    proxies: *a1

  - name: TikTok
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
    type: select
    proxies: *a1

  - name: Steam
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
    type: select
    proxies: *a1

  - name: Game
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Game.png
    type: select
    proxies: *a1

  - name: E-Hentai
    icon: https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Ehentai.png
    type: select
    proxies: *a1

  - name: PornSite
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Pornhub.png
    type: select
    proxies: *a1

  - name: US Media
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
    type: select
    proxies:
      - ç¾å›½èŠ‚ç‚¹
      - é€‰æ‹©ä»£ç†
      - æ‰‹åŠ¨é€‰æ‹©
      - ç›´æ¥è¿æ¥
  - name: Taiwan Media
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
    type: select
    proxies:
      - å°æ¹¾èŠ‚ç‚¹
      - é€‰æ‹©ä»£ç†
      - æ‰‹åŠ¨é€‰æ‹©
      - ç›´æ¥è¿æ¥
  - name: Japan Media
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
    type: select
    proxies:
      - æ—¥æœ¬èŠ‚ç‚¹
      - é€‰æ‹©ä»£ç†
      - æ‰‹åŠ¨é€‰æ‹©
      - ç›´æ¥è¿æ¥
  - name: Global Media
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/DomesticMedia.png
    type: select
    proxies: *a1

  - name: Apple
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
    type: select
    proxies:
      - ç›´æ¥è¿æ¥
      - é€‰æ‹©ä»£ç†
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹
      - æ‰‹åŠ¨é€‰æ‹©
  - name: Microsoft
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
    type: select
    proxies:
      - ç›´æ¥è¿æ¥
      - é€‰æ‹©ä»£ç†
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹
      - æ‰‹åŠ¨é€‰æ‹©
  - name: Google
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
    type: select
    proxies: *a1

  - name: Google FCM
    icon: https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Firebase.png
    type: select
    proxies:
      - Google
      - ç›´æ¥è¿æ¥
  - name: Sogou Privacy
    icon: https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Sougou.png
    type: select
    proxies:
      - ç›´æ¥è¿æ¥
      - REJECT
  - name: ADBlock
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AdBlack.png
    type: select
    proxies:
      - REJECT-DROP
      - REJECT
      - ç›´æ¥è¿æ¥
  - name: ç›´æ¥è¿æ¥
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
    type: select
    proxies:
      - DIRECT
      - é€‰æ‹©ä»£ç†
  - name: GLOBAL
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    include-all: true
    type: select
    proxies: *a1

  - name: é¦™æ¸¯èŠ‚ç‚¹
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
    include-all: true
    filter: (?i)é¦™æ¸¯|æ¸¯|HK|hk|Hong Kong|HongKong|hongkong|ğŸ‡­ğŸ‡°
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 60
    tolerance: 20
    lazy: false

  - name: å°æ¹¾èŠ‚ç‚¹
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
    include-all: true
    filter: (?i)å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|ğŸ‡¹ğŸ‡¼
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 60
    tolerance: 20
    lazy: false

  - name: æ–°åŠ å¡èŠ‚ç‚¹
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
    include-all: true
    filter: (?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 60
    tolerance: 20
    lazy: false

  - name: æ—¥æœ¬èŠ‚ç‚¹
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
    include-all: true
    filter: (?i)æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 60
    tolerance: 20
    lazy: false

  - name: ç¾å›½èŠ‚ç‚¹
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
    include-all: true
    filter: (?i)ç¾å›½|ç¾|US|United States|ğŸ‡ºğŸ‡¸
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 60
    tolerance: 20
    lazy: false

  - name: å…¶ä»–èŠ‚ç‚¹
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    include-all: true
    type: select
    exclude-filter: (?i)é¦™æ¸¯|æ¸¯|HK|hk|Hong Kong|HongKong|hongkong|ğŸ‡­ğŸ‡°|å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|ğŸ‡¹ğŸ‡¼|ç¾å›½|ç¾|US|United States|ğŸ‡ºğŸ‡¸|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬

rule-providers:
  AI:
    type: http
    behavior: classical
    format: yaml
    interval: 86400
    url: https://raw.githubusercontent.com/dler-io/Rules/main/Clash/Provider/AI Suite.yaml
    path: ./ruleset/AI.yaml
  Telegram:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/telegram.txt
    path: ./ruleset/Telegram.list
  Video:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.list
    path: ./ruleset/YouTube.list
  Music:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTubeMusic/YouTubeMusic.list
    path: ./ruleset/YouTubeMusic.list
  Netflix:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list
    path: ./ruleset/Netflix.list
  TikTok:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.list
    path: ./ruleset/TikTok.list
  Spotify:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.list
    path: ./ruleset/Spotify.list
  Steam:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.list
    path: ./ruleset/Steam.list
  Game:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.list
    path: ./ruleset/Game.list
  E-Hentai:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/EHGallery/EHGallery.list
    path: ./ruleset/E-Hentai.list
  Main:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/PianCat/CustomProxyRuleset/main/PornSite/PornSite.list
    path: ./ruleset/PornSite.list
  Furrybar:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/PianCat/CustomProxyRuleset/main/Furrybar/Furrybar.list
    path: ./ruleset/Furrybar.list
  Stream_US:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/stream_us.txt
    path: ./ruleset/Stream_US.list
  Stream_TW:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/stream_tw.txt
    path: ./ruleset/Stream_TW.list
  Stream_JP:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/stream_jp.txt
    path: ./ruleset/Stream_JP.list
  Stream_Global:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/stream.txt
    path: ./ruleset/Stream_Global.list
  Apple:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.list
    path: ./ruleset/Apple.list
  Microsoft:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.list
    path: ./ruleset/Microsoft.list
  Google:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.list
    path: ./ruleset/Google.list
  GoogleFCM:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleFCM/GoogleFCM.list
    path: ./ruleset/GoogleFCM.list
  SogouPrivacy:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/sogouinput.txt
    path: ./ruleset/SogouInput.list
  ADBlock:
    type: http
    behavior: domain
    format: mrs
    interval: 86400
    url: https://adrules.top/adrules-mihomo.mrs
    path: ./ruleset/ADBlock.mrs
  LocalNetwork_Non-IP:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/non_ip/lan.txt
    path: ./ruleset/LocalNetwork_Non-IP.list
  LocalNetwork_IP:
    type: http
    behavior: classical
    format: text
    interval: 86400
    url: https://ruleset.skk.moe/Clash/ip/lan.txt
    path: ./ruleset/LocalNetwork_IP.list

rules:
  - RULE-SET,AI,AI
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Netflix,Netflix
  - RULE-SET,TikTok,TikTok
  - RULE-SET,Spotify,Spotify
  - RULE-SET,Steam,Steam
  - RULE-SET,Game,Game
  - RULE-SET,E-Hentai,E-Hentai
  - RULE-SET,Furrybar,PornSite
  - RULE-SET,Stream_US,US Media
  - RULE-SET,Stream_TW,Taiwan Media
  - RULE-SET,Stream_JP,Japan Media
  - RULE-SET,Stream_Global,Global Media
  - RULE-SET,Apple,Apple
  - RULE-SET,Microsoft,Microsoft
  - RULE-SET,Google,Google
  - RULE-SET,GoogleFCM,Google FCM
  - RULE-SET,SogouPrivacy,Sogou Privacy
  - RULE-SET,ADBlock,ADBlock
  - RULE-SET,LocalNetwork_Non-IP,ç›´æ¥è¿æ¥
  - RULE-SET,LocalNetwork_IP,ç›´æ¥è¿æ¥
  - GEOIP,CN,ç›´æ¥è¿æ¥
  - MATCH,é€‰æ‹©ä»£ç†
