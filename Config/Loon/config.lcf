# UpdateTime: 2025.11.05 18:00:00 +0000
# Author: PianCat

[General]
ip-mode = dual
ipv6-vif = auto
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 162.14.0.0/16, 211.99.96.0/19, 162.159.192.0/24, 162.159.193.0/24, 162.159.195.0/24, fc00::/7, fe80::/10, localhost, *.local, *.lan, captive.apple.com, passenger.t3go.cn, *.ccb.com, wxh.wo.cn, *.abcchina.com, *.abcchina.com.cn
bypass-tun = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 2a0e:800:ff80:5::/64, ::/128
sni-sniffing = true
dns-server = 119.29.29.29, 2402:4e00::, 223.5.5.5, 2400:3200::1, 1.1.1.1, 2606:4700:4700::1111, 8.8.8.8, 2001:4860:4860::8888, system
doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query, https://cloudflare-dns.com/dns-query, https://dns.google/dns-query
allow-udp-proxy = true
allow-wifi-access = true
wifi-access-http-port = 56365
wifi-access-socket5-port = 56366
internet-test-url = http://connect.rom.miui.com/generate_204
proxy-test-url = http://www.gstatic.com/generate_204
test-timeout = 3
real-ip = *.lan, *.localdomain, *.example, *.invalid, *.localhost, *.test, *.local, *.home.arpa, time.*.com, time.*.gov, time.*.edu.cn, time.*.apple.com, time1.*.com, time2.*.com, time3.*.com, time4.*.com, time5.*.com, time6.*.com, time7.*.com, ntp.*.com, ntp1.*.com, ntp2.*.com, ntp3.*.com, ntp4.*.com, ntp5.*.com, ntp6.*.com, ntp7.*.com, *.time.edu.cn, *.ntp.org.cn, +.pool.ntp.org, time1.cloud.tencent.com, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, *.msftconnecttest.com, *.msftncsi.com, msftconnecttest.com, msftncsi.com, localhost.ptlogin2.qq.com, localhost.sec.qq.com, +.srv.nintendo.net, +.stun.playstation.net, xbox.*.microsoft.com, +.battlenet.com.cn, +.wotgame.cn, +.wggames.cn, +.wowsgame.cn, +.wargaming.net, proxy.golang.org, stun.*.*, stun.*.*.*, stun.*.*.*.*, heartbeat.belkin.com, *.linksys.com, *.linksyssmartwifi.com, *.router.asus.com, mesu.apple.com, swscan.apple.com, swquery.apple.com, swdownload.apple.com, swcdn.apple.com, swdist.apple.com, lens.l.google.com, stun.l.google.com, +.nflxvideo.net, *.square-enix.com, *.finalfantasyxiv.com, *.ffxiv.com, *.direct, cable.auth.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.xboxlive.com, global.turn.twilio.com, global.stun.twilio.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, localhost.*.qq.com, localhost.*.weixin.qq.com, *.logon.battle.net, *.blzstatic.cn, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, opencloud.wostore.cn, id.mail.wo.cn, mdn.open.wo.cn, hmrz.wo.cn, nishub1.10010.com, enrichgw.10010.com, *.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *.10099.com.cn, *.microdone.cn
geoip-url = https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb
ipasn-url = https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb
disconnect-on-policy-change = true
interface-mode = auto

# resource-parser = https://www.nsloon.com/openloon/import?parser=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-parser.loon.min.js

[Proxy]

[Remote Proxy]

[Plugin]
https://raw.githubusercontent.com/Peng-YM/Loon-Gallery/master/loon-gallery.plugin, enable = true

[Remote Filter]
# å…¨éƒ¨èŠ‚ç‚¹ç­›é€‰
ALL_Filter = NameRegex, FilterKey = ".*"

# é¦™æ¸¯èŠ‚ç‚¹ç­›é€‰
HK_Filter = NameRegex, FilterKey = "(?i)(é¦™æ¸¯|æ¸¯|HK|Hong Kong|HongKong|hongkong|ğŸ‡­ğŸ‡°)"

# å°æ¹¾èŠ‚ç‚¹ç­›é€‰
TW_Filter = NameRegex, FilterKey = "(?i)(å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|ğŸ‡¹ğŸ‡¼)"

# æ–°åŠ å¡èŠ‚ç‚¹ç­›é€‰
SG_Filter = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬)"

# æ—¥æœ¬èŠ‚ç‚¹ç­›é€‰
JP_Filter = NameRegex, FilterKey = "(?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ)"

# ç¾å›½èŠ‚ç‚¹ç­›é€‰
US_Filter = NameRegex, FilterKey = "(?i)(ç¾å›½|ç¾|US|United States|ğŸ‡ºğŸ‡¸)"

# å…¶ä»–èŠ‚ç‚¹ç­›é€‰ï¼ˆæ’é™¤ä»¥ä¸Šæ‰€æœ‰åœ°åŒºï¼‰
# ä½¿ç”¨è´Ÿå‘é¢„æŸ¥æ¥æ’é™¤ç‰¹å®šå…³é”®è¯ï¼šä¸å«é¦™æ¸¯ã€å°æ¹¾ã€æ–°åŠ å¡ã€æ—¥æœ¬ã€ç¾å›½
Other_Filter = NameRegex, FilterKey = "^(?!.*(é¦™æ¸¯|æ¸¯|HK|Hong Kong|HongKong|ğŸ‡­ğŸ‡°|å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|ğŸ‡¹ğŸ‡¼|ç¾å›½|ç¾|US|United States|ğŸ‡ºğŸ‡¸|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬))"

[Proxy Group]
é€‰æ‹©ä»£ç† = select, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, DIRECT, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png
æ‰‹åŠ¨é€‰æ‹© = select, ALL_Filter, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Round_Robin_1.png
AI = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AI.png
Telegram = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
YouTube = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
Netflix = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
Spotify = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
TikTok = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
Steam = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
Game = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Game.png
E-Hentai = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Ehentai.png
PornSite = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Pornhub.png
US Media = select, ç¾å›½èŠ‚ç‚¹, é€‰æ‹©ä»£ç†, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
Taiwan Media = select, å°æ¹¾èŠ‚ç‚¹, é€‰æ‹©ä»£ç†, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
Japan Media = select, æ—¥æœ¬èŠ‚ç‚¹, é€‰æ‹©ä»£ç†, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
Global Media = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/DomesticMedia.png
Apple = select, ç›´æ¥è¿æ¥, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
Microsoft = select, ç›´æ¥è¿æ¥, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
Google = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
Google FCM = select, Google, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Firebase.png
Sogou Privacy = select, ç›´æ¥è¿æ¥, REJECT, img-url = https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Sougou.png
ADBlock = select, REJECT-DROP, REJECT, ç›´æ¥è¿æ¥, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AdBlack.png
ç›´æ¥è¿æ¥ = select, DIRECT, é€‰æ‹©ä»£ç†, img-url = https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
é¦™æ¸¯èŠ‚ç‚¹ = url-test, HK_Filter, url = https://cp.cloudflare.com/generate_204, interval = 60, tolerance = 20, img-url = https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
å°æ¹¾èŠ‚ç‚¹ = url-test, TW_Filter, url = https://cp.cloudflare.com/generate_204, interval = 60, tolerance = 20, img-url = https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
æ–°åŠ å¡èŠ‚ç‚¹ = url-test, SG_Filter, url = https://cp.cloudflare.com/generate_204, interval = 60, tolerance = 20, img-url = https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
æ—¥æœ¬èŠ‚ç‚¹ = url-test, JP_Filter, url = https://cp.cloudflare.com/generate_204, interval = 60, tolerance = 20, img-url = https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
ç¾å›½èŠ‚ç‚¹ = url-test, US_Filter, url = https://cp.cloudflare.com/generate_204, interval = 60, tolerance = 20, img-url = https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
å…¶ä»–èŠ‚ç‚¹ = select, Other_Filter, img-url = https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png

[Remote Rule]
https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge 3/Provider/AI Suite.list, policy = AI, tag = AI, enabled = true
https://ruleset.skk.moe/List/non_ip/telegram.conf, policy = Telegram, tag = Telegram, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Netflix/Netflix.list, policy = Netflix, tag = Netflix, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/TikTok/TikTok.list, policy = TikTok, tag = TikTok, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Spotify/Spotify.list, policy = Spotify, tag = Spotify, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Steam/Steam.list, policy = Steam, tag = Steam, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Game/Game.list, policy = Game, tag = Game, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/EHGallery/EHGallery.list, policy = E-Hentai, tag = E-Hentai, enabled = true
https://raw.githubusercontent.com/PianCat/CustomProxyRuleset/main/Furrybar/Furrybar.list, policy = PornSite, tag = Furrybar, enabled = true
https://ruleset.skk.moe/List/non_ip/stream_us.conf, policy = US Media, tag = US Media, enabled = true
https://ruleset.skk.moe/List/non_ip/stream_tw.conf, policy = Taiwan Media, tag = Taiwan Media, enabled = true
https://ruleset.skk.moe/List/non_ip/stream_jp.conf, policy = Japan Media, tag = Japan Media, enabled = true
https://ruleset.skk.moe/List/non_ip/stream.conf, policy = Global Media, tag = Global Media, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Apple/Apple.list, policy = Apple, tag = Apple, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Microsoft/Microsoft.list, policy = Microsoft, tag = Microsoft, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Google/Google.list, policy = Google, tag = Google, enabled = true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/GoogleFCM/GoogleFCM.list, policy = Google FCM, tag = Google FCM, enabled = true
https://ruleset.skk.moe/List/non_ip/sogouinput.conf, policy = Sogou Privacy, tag = Sogou Privacy, enabled = true
https://adrules.top/adrules-surge.conf, policy = ADBlock, tag = ADBlock, enabled = true
https://ruleset.skk.moe/List/non_ip/lan.conf, policy = ç›´æ¥è¿æ¥, tag = LocalNetwork Non-IP, enabled = true
https://ruleset.skk.moe/List/ip/lan.conf, policy = ç›´æ¥è¿æ¥, tag = LocalNetwork IP, enabled = true

[Rule]
GEOIP, CN, ç›´æ¥è¿æ¥
FINAL, é€‰æ‹©ä»£ç†