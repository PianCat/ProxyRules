# Surge Configuration
# Author: PianCat
# Update: 2025-11-26
# Surge Version: 5.x

[General]
# æ—¥å¿—çº§åˆ«
loglevel = notify
show-error-page-for-reject = true

# ç½‘ç»œè®¿é—®
allow-wifi-access = true
wifi-access-http-port = 56365
wifi-access-socks5-port = 56366

# All Hybrid ç½‘ç»œå¹¶å‘
all-hybrid = false

# IPv6 æ”¯æŒ
ipv6 = true
ipv6-vif = auto

# æµ‹è¯•
test-timeout = 3
internet-test-url = http://connect.rom.miui.com/generate_204
proxy-test-url = http://www.gstatic.com/generate_204

# GeoIP æ•°æ®åº“
geoip-maxmind-url = https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/Country.mmdb

# DNS è®¾ç½®
dns-server = 119.29.29.29, 2402:4e00::, 223.5.5.5, 2400:3200::1, 1.1.1.1, 2606:4700:4700::1111, 8.8.8.8, 2001:4860:4860::8888, system
encrypted-dns-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query, https://cloudflare-dns.com/dns-query, https://dns.google/dns-query
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
read-etc-hosts = true

# è·³è¿‡ä»£ç†
exclude-simple-hostnames = true
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local, captive.apple.com, passenger.t3go.cn, *.ccb.com, wxh.wo.cn, *.abcchina.com, *.abcchina.com.cn

# Always Real IP (ä¸ Mihomo çš„ fake-ip-filter åŠŸèƒ½ç›¸åŒ)
always-real-ip = *.lan, *.direct, *.ts.net, cable.auth.com, msftconnecttest.com, *.msftconnecttest.com, msftncsi.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.ondemandconnectivity.com, *.esimcloud.net, *three.co.uk, *three.com.hk, *hk.chinamobile.com, *.telephony.goog, *?t-mobile.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net, *.square-enix.com, *.finalfantasyxiv.com, *.ffxiv.com, *.ff14.sdo.com, ff.dorado.sdo.com, *.wargaming.net, wargaming.net, stun.*, stun.*.*, *stun*, *turn*, global.turn.twilio.com, global.stun.twilio.com, *3gppnetwork.org, *jibecloud.net, app.yinxiang.com, injections.adguard.org, local.adguard.org, localhost.*.qq.com, localhost.*.weixin.qq.com, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, proxy.golang.org, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, opencloud.wostore.cn, id.mail.wo.cn, mdn.open.wo.cn, hmrz.wo.cn, nishub1.10010.com, enrichgw.10010.com, *.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *.10099.com.cn, *.microdone.cn, pool.ntp.org, *.pool.ntp.org, ntp.*.com, ntp*.*.com, ntp?.*.com, time.*.com, time*.*.com, time?.*.com, time.*.gov, time.*.edu.cn, time.*.apple.com, *.ntp.org.cn, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*

# å…¶ä»–è®¾ç½®
use-default-policy-if-wifi-not-primary = false
disable-geoip-db-auto-update = false
udp-policy-not-supported-behaviour = REJECT
http-api-web-dashboard = false


[Proxy]
# åœ¨æ­¤æ·»åŠ ä½ çš„ä»£ç†èŠ‚ç‚¹


[Proxy Group]
é€‰æ‹©ä»£ç† = select, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, DIRECT, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png
æ‰‹åŠ¨é€‰æ‹© = select, policy-path=è®¢é˜…åœ°å€, update-interval=0, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Round_Robin_1.png
AI = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AI.png
Telegram = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
YouTube = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
Netflix = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
Spotify = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
TikTok = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
Steam = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
Game = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Game.png
E-Hentai = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Ehentai.png
PornSite = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Pornhub.png
US Media = select, ç¾å›½èŠ‚ç‚¹, é€‰æ‹©ä»£ç†, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
Taiwan Media = select, å°æ¹¾èŠ‚ç‚¹, é€‰æ‹©ä»£ç†, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
Japan Media = select, æ—¥æœ¬èŠ‚ç‚¹, é€‰æ‹©ä»£ç†, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
Global Media = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/DomesticMedia.png
Apple = select, ç›´æ¥è¿æ¥, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
Microsoft = select, ç›´æ¥è¿æ¥, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
Google = select, é€‰æ‹©ä»£ç†, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, å…¶ä»–èŠ‚ç‚¹, æ‰‹åŠ¨é€‰æ‹©, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
Google FCM = select, Google, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Firebase.png
Sogou Privacy = select, ç›´æ¥è¿æ¥, REJECT, icon=https://cdn.jsdelivr.net/gh/PianCat/CustomProxyRuleset@main/Icons/Sougou.png
ADBlock = select, REJECT-DROP, REJECT, ç›´æ¥è¿æ¥, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AdBlack.png
ç›´æ¥è¿æ¥ = select, DIRECT, é€‰æ‹©ä»£ç†, icon=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
é¦™æ¸¯èŠ‚ç‚¹ = smart, policy-path=è®¢é˜…åœ°å€, update-interval=0, policy-regex-filter=(é¦™æ¸¯|æ¸¯|HK|hk|Hong Kong|HongKong|hongkong|ğŸ‡­ğŸ‡°), icon=https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
å°æ¹¾èŠ‚ç‚¹ = smart, policy-path=è®¢é˜…åœ°å€, update-interval=0, policy-regex-filter=(å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|ğŸ‡¹ğŸ‡¼), icon=https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
æ–°åŠ å¡èŠ‚ç‚¹ = smart, policy-path=è®¢é˜…åœ°å€, update-interval=0, policy-regex-filter=(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬), icon=https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
æ—¥æœ¬èŠ‚ç‚¹ = smart, policy-path=è®¢é˜…åœ°å€, update-interval=0, policy-regex-filter=(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ), icon=https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
ç¾å›½èŠ‚ç‚¹ = smart, policy-path=è®¢é˜…åœ°å€, update-interval=0, policy-regex-filter=(ç¾å›½|ç¾|US|United States|ğŸ‡ºğŸ‡¸), icon=https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
å…¶ä»–èŠ‚ç‚¹ = select, policy-path=è®¢é˜…åœ°å€, update-interval=0, policy-regex-filter=^(?!.*(é¦™æ¸¯|æ¸¯|HK|hk|Hong Kong|HongKong|hongkong|ğŸ‡­ğŸ‡°|å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|ğŸ‡¹ğŸ‡¼|ç¾å›½|ç¾|US|United States|ğŸ‡ºğŸ‡¸|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬)), icon=https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png

[Rule]
# ADBlock
RULE-SET,https://adrules.top/adrules-surge.conf,ADBlock,extended-matching

# AI
RULE-SET,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge 3/Provider/AI Suite.list,AI

# Telegram
RULE-SET,https://ruleset.skk.moe/List/non_ip/telegram.conf,Telegram

# Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix

# TikTok
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok

# Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify

# Steam
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Steam/Steam.list,Steam

# Game
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Game/Game.list,Game

# E-Hentai
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/EHGallery/EHGallery.list,E-Hentai

# Furrybar
RULE-SET,https://raw.githubusercontent.com/PianCat/CustomProxyRuleset/main/Furrybar/Furrybar.list,PornSite

# US Media
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_us.conf,US Media

# Taiwan Media
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_tw.conf,Taiwan Media

# Japan Media
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream_jp.conf,Japan Media

# Global Media
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,Global Media

# Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple

# Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft

# Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google

# Google FCM
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GoogleFCM/GoogleFCM.list,Google FCM

# Sogou Privacy
RULE-SET,https://ruleset.skk.moe/List/non_ip/sogouinput.conf,Sogou Privacy

# å±€åŸŸç½‘åœ°å€
RULE-SET,LAN,ç›´æ¥è¿æ¥

# GeoIP CN
GEOIP,CN,ç›´æ¥è¿æ¥

# Final
FINAL,é€‰æ‹©ä»£ç†,dns-failed